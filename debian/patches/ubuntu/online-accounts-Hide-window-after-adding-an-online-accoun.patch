From: Andrea Azzarone <andrea.azzarone@canonical.com>
Date: Tue, 31 Jul 2018 04:44:12 +0100
Subject: online-accounts: Hide window after adding an online account from
 another app

Some applications (e.g. gnome-calendar, gnome-todo, etc.) use gnome-control-center
to allow the user to add online accounts. This patch makes sure that g-c-c main window
is closed after the user interacted with the new-account dialog.

Bug-Ubuntu: https://launchpad.net/bugs/1754651
Forwarded: no
Last-Update: 2018-03-09
---
 panels/online-accounts/cc-online-accounts-panel.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/panels/online-accounts/cc-online-accounts-panel.c b/panels/online-accounts/cc-online-accounts-panel.c
index c8fa63c..daf212e 100644
--- a/panels/online-accounts/cc-online-accounts-panel.c
+++ b/panels/online-accounts/cc-online-accounts-panel.c
@@ -523,6 +523,7 @@ cc_online_accounts_panel_set_property (GObject      *object,
           else if (g_strcmp0 (first_arg, "add") == 0)
             {
               command_add (CC_ONLINE_ACCOUNTS_PANEL (object), parameters);
+              g_application_quit (g_application_get_default ());
             }
           else if (first_arg != NULL)
             {
